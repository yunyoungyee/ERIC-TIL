# ⚙️ 실행 컨텍스트 (Execution Context)

---

## 📘 정의

**실행 컨텍스트**란,  
자바스크립트 코드가 실행될 때 필요한 **환경 정보들을 묶어 객체 형태로 관리하는 것**입니다.

---

## 📗 사용 이유

- **예측 가능한 코드**를 작성하기 위해  
- **디버깅 능력**을 높이기 위해

> 예를 들어, React에서  
> - `state`가 예상과 다르게 동작하거나  
> - `useEffect`가 무한 루프에 빠지는 경우,  
> 
> 원인을 추적하다 보면 **컴포넌트 함수가 다시 호출되면서 새로운 실행 컨텍스트가 생성되고**,  
> 그 안에서 **클로저가 변수를 어떻게 참조하는지** 이해해야 합니다.

➡️ 즉, **JS의 내부 동작 방식(실행 컨텍스트, 클로저, 스코프 등)** 을 알아야 이런 문제를 정확히 이해하고 해결할 수 있습니다.

---

## ⚙️ 동작 방식

자바스크립트 엔진은 **콜 스택(Call Stack)** 을 사용하여 실행 컨텍스트를 관리합니다.

> 콜 스택 덕분에  
> 자바스크립트는 **“지금 무엇을 실행 중인지”**,  
> 그리고 **“어디로 돌아가야 하는지”** 를 정확히 파악할 수 있습니다.

---

> ✏️  
> ### ❓ 전역 실행 컨텍스트는 언제 생기는가?
> 💬 자바스크립트 코드가 **실행되기 전**, 즉 **로드 시점(Load Time)** 에 **딱 한 번 생성**됩니다.

---

## 🧩 TDZ(Temporal Dead Zone)와 변수 초기화

> ✏️  
> ### ❓ 왜 `let`, `const`는 `undefined`로 초기화되지 않고 TDZ에 격리될까?
>
> 💬 자바스크립트 엔진은 `var`의 호이스팅 문제를 해결하기 위해  
> `let`과 `const` 변수를 **TDZ(Temporal Dead Zone)** 에 격리시킵니다.
>
> 즉, **메모리에 할당은 되어 있지만 접근은 불가능한 상태**입니다.  
> 변수의 **선언문 라인에 도달해야만 초기화**가 이루어집니다.
>
> TDZ의 목적은 다음과 같습니다:
>
> - `var`처럼 **자동으로 undefined를 할당하는 문제를 방지**
> - **변수 사용 시점을 선언문 이후로 강제**
>
> 따라서 TDZ 구간 내에서 변수를 참조하려 하면 **ReferenceError** 가 발생합니다.

---

## ✅ 정리

| 개념 | 설명 |
|------|------|
| **실행 컨텍스트** | 코드 실행에 필요한 환경 정보를 담은 객체 |
| **콜 스택** | 실행 컨텍스트를 관리하는 자료 구조 |
| **전역 실행 컨텍스트** | 코드 실행 전(로드 시점)에 한 번 생성 |
| **TDZ** | `let`, `const`가 초기화되기 전 접근 불가능한 구간 |
| **ReferenceError** | TDZ 내에서 변수에 접근하려 할 때 발생 |

---

> 💡 **한 줄 요약:**  
> 실행 컨텍스트는 **자바스크립트 코드의 실행 환경을 기억하는 컨테이너**이며,  
> TDZ는 **안전한 변수 사용 시점을 보장하기 위한 메커니즘**입니다.
