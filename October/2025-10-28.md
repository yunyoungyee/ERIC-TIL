## SQL 기초(DDL과 DML 익히기)
### 정리(쿼리 순서)
1. 일단 SELECT 조회 맨 앞
2. 조회 대상의 컬럼(들) 또는 집계하고 싶은 대상(MAX(age) 같은)
3. AS가 오고
4. FROM으로 어떤 테이블에서 수행할건지
5. WHERE로 조건을 걸고(GROUP BY에서 HAVING 제외)
6. GROUP이나 ORDER를 하고(GROUP 선행, ORDER 후행)
7. 오름차순, 내림차순, LIMIT, OFFSET 등

### CREATE : 테이블 추가
```
create table 이름 (
    컬럼명 작성
);
```
```sql
CREATE TABLE users (
                       id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
                       name VARCHAR(25) NOT NULL,
                       age INT UNSIGNED NOT NULL,
                       email VARCHAR(45) NOT NULL
);
```
### ALTER : 테이블 수정
```
alter table 이름
ADD 컬럼명1 타입 AFTER 컬럼명2, → 컬럼명2 뒤에 컬럼명1을 추가함
MODIFY 컬럼명1 타입 → 기존에 있는 컬럼명1의 타입을 수정함
DROP 컬럼명 → 컬럼명을 삭제함
```
### DROP : 테이블 삭제
```
drop table 이름 
```
### SHOW DATABASE : 데이터베이스 확인
```
use 데이터베이스 이름 : 데이터베이스 사용
desc 데이터베이스 이름.users : 테이블 구조 확인
```
### INSERT : 데이터 삽입
```
insert into 테이블명 (컬럼명1, 컬럼명2, 컬럼명3) values
(’컬럼명1 데이터’, ‘컬럼명2 데이터‘, ‘컬럼명3 데이터‘),

// 위 아래 서로 다른 데이터
(’컬럼명1 데이터’, ‘컬럼명2 데이터‘, ‘컬럼명3 데이터‘);
```
```sql
insert into users (name, age, email) values
('kim',20,'kim@kakao.com'),
('yun',25,'yun@kakao.com');
```
### SELECT : 데이터 조회
```
select * from 테이블명; // 테이블명으로부터(from) 데이터를 조회한다(* 모든 열)
```
```sql
select name from users;
select * from users;
```
###  UPDATE : 데이터 수정
```
update 테이블명 set 컬럼명 = ‘수정할 데이터’ ; 
//테이블 명에 속한 컬럼명의 데이터를 ‘수정할 데이터’로 수정
```
```sql
update users set email = 'fake@kakako.com';
```
###  DELETE : 데이터 삭제
```
delete from 테이블명 where 삭제할 레코드 선택
```
```sql
delete from users where id=2;
```
###  WHRER : 조건식
```sql
SELECT * FROM users WHERE age BETWEEN 10 AND 25;
SELECT * FROM users WHERE name LIKE 'Jane _____';
```
### 집계 함수
```
MAX, MIN, AVG, SUM, COUNT : 집계 기능
AS : 따로 생성되는 결과값 이름, 따로 지정하지 않을경우 ‘MAX(age)’ 이런식으로 나옴
```
```sql
SELECT MAX(age) AS max_age FROM users;
SELECT COUNT(*) AS record_count FROM users;

//집계함수를 WHERE 조건문에 걸어버릴 수도 있음.
SELECT COUNT(*) AS total_age FROM users WHERE age > 30;
```
### 정렬
```
ORDER BY : 정렬, DESC : 내림차순, ASC: 오름차순
LIMIT : 정렬을 할때 가져오는 레코드 수
OFFSET : 가져오는 레코드 중 앞에서부터 제외할 수
```
```sql
SELECT * FROM users ORDER BY age DESC; # 내림차순
SELECT * FROM users ORDER BY age ASC; # 오름차순
SELECT * FROM users ORDER BY id ASC LIMIT 10 OFFSET 3

//WHERE 조건문을 넣어서 해당되는 범위의 레코드만 정렬 가능
SELECT * FROM users WHERE age>28 ORDER BY age ASC;

//WHERE 조건문을 넣어서 해당되는 범위의 레코드만 LIMIT OFFSET 적용 가능
SELECT * FROM users WHERE age>28 ORDER BY id ASC LIMIT 10 OFFS
```
### 그룹
```
GROUP BY : 그룹화
HAVING : group by절의 조건(WHERE을 쓰지 않아도 조건문 가능)
```
```sql
SELECT age, COUNT(*) AS user_count FROM users GROUP BY age;
# GROUP BY절의 조건은 HAVING절!
SELECT age, COUNT(*) AS user_count FROM users GROUP BY age HAVING age >= 30;

#그룹화에 정렬을 걸어 줄 수 있음.
SELECT age, COUNT(*) AS user_count FROM users GROUP BY age HAVING age >= 20 ORDER BY age ASC;
```
